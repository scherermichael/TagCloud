/*!
 * TagCloud.js v2.1.0
 * Copyright (c) 2016-2020 @ Cong Min
 * MIT License - https://github.com/mcc108/TagCloud
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).TagCloud=t()}(this,function(){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function t(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function r(i){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?t(Object(a),!0).forEach(function(e){var t,n,o;t=i,o=a[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))})}return i}var i=function(){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var o=this;if(!e||1!==e.nodeType)return new Error("Incorrect element type");o.$container=e,o.texts=t||[],o.config=r(r({},i._defaultConfig),n||{}),o.radius=o.config.radius||e.clientHeight/2,o.depth=2*o.radius,o.size=1.5*o.radius,o.maxSpeed=i._getMaxSpeed(o.config.maxSpeed),o.initSpeed=i._getInitSpeed(o.config.initSpeed),o.direction=o.config.direction,o.keep=o.config.keep,o._createElment(),o._init(),i.list.push({el:o.$el,container:e,instance:o})}var e,t,n;return e=i,n=[{key:"_on",value:function(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on".concat(t),n):e["on".concat(t)]=n}}],(t=[{key:"_createElment",value:function(){var o=this,i=document.createElement("div");i.className="tagcloud",i.style.position="relative",i.style.width="".concat(2*o.radius,"px"),i.style.height="".concat(2*o.radius,"px"),o.items=[],o.texts.forEach(function(e,t){var n=o._createTextItem(e,t);i.appendChild(n.el),o.items.push(n)}),o.$container.appendChild(i),o.$el=i}},{key:"_createTextItem",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:0,o=document.createElement("a");o.className="tagcloud--item tagcloud--item-weight-".concat(10*e.weight),o.innerText=e.content,o.href="#".concat(e.content);var i="translate3d(-50%, -50%, 0) scale(1)";return o.style.WebkitTransform=i,o.style.MozTransform=i,o.style.OTransform=i,o.style.transform=i,o.style.filter="alpha(opacity=0)",o.style.opacity="0",o.style.zIndex=n+1,r({el:o},this._computePosition(n))}},{key:"_computePosition",value:function(e,t){var n=1<arguments.length&&void 0!==t&&t,o=this.texts.length;n&&(e=Math.floor(Math.random()*(o+1)));var i=Math.acos((2*e+1)/o-1),a=Math.sqrt((o+1)*Math.PI)*i;return{x:this.size*Math.cos(a)*Math.sin(i)/2,y:this.size*Math.sin(a)*Math.sin(i)/2,z:this.size*Math.cos(i)/2}}},{key:"_init",value:function(){var n=this;n.active=!1,n.mouseX0=n.initSpeed*Math.sin(n.direction*(Math.PI/180)),n.mouseY0=-n.initSpeed*Math.cos(n.direction*(Math.PI/180)),n.mouseX=n.mouseX0,n.mouseY=n.mouseY0,i._on(n.$el,"mouseover",function(){n.active=!0}),i._on(n.$el,"mouseout",function(){n.active=!1}),i._on(n.keep?window:n.$el,"mousemove",function(e){e=e||window.event;var t=n.$el.getBoundingClientRect();n.mouseX=(e.clientX-(t.left+t.width/2))/5,n.mouseY=(e.clientY-(t.top+t.height/2))/5}),n._next(),n.interval=setInterval(function(){n._next.call(n)},100)}},{key:"_next",value:function(){var d=this;d.keep||d.active||(d.mouseX=Math.abs(d.mouseX-d.mouseX0)<1?d.mouseX0:(d.mouseX+d.mouseX0)/2,d.mouseY=Math.abs(d.mouseY-d.mouseY0)<1?d.mouseY0:(d.mouseY+d.mouseY0)/2);var e,m,t=-(Math.min(Math.max(-d.mouseY,-d.size),d.size)/d.radius)*d.maxSpeed,n=Math.min(Math.max(-d.mouseX,-d.size),d.size)/d.radius*d.maxSpeed;Math.abs(t)<=.01&&Math.abs(n)<=.01||(e=Math.PI/180,m=[Math.sin(t*e),Math.cos(t*e),Math.sin(n*e),Math.cos(n*e)],d.items.forEach(function(e){var t=e.x,n=e.y*m[1]+e.z*-m[0],o=e.y*m[0]+e.z*m[1],i=t*m[3]+o*m[2],a=n,r=o*m[3]-t*m[2],s=2*d.depth/(2*d.depth+r);e.x=i,e.y=a,e.z=r,e.scale=s.toFixed(3);var c=(1<(c=s*s-.25)?1:c).toFixed(3),l=e.el,u=(e.x-l.offsetWidth/2).toFixed(2),f=(e.y-l.offsetHeight/2).toFixed(2),h="translate3d(".concat(u,"px, ").concat(f,"px, 0) scale(").concat(e.scale,")");l.style.WebkitTransform=h,l.style.MozTransform=h,l.style.OTransform=h,l.style.transform=h,l.style.filter="alpha(opacity=".concat(100*c,")"),l.style.opacity=c}))}},{key:"update",value:function(e){var o=this;o.texts=e||[],o.texts.forEach(function(e,t){var n=o.items[t];n||(a(n=o._createTextItem(e,t),o._computePosition(t,!0)),o.$el.appendChild(n.el),o.items.push(n)),n.el.innerText=e});var t=o.texts.length,n=o.items.length;t<n&&o.items.splice(t,n-t).forEach(function(e){o.$el.removeChild(e.el)})}},{key:"destroy",value:function(){var t=this;t.interval=null;var e=i.list.findIndex(function(e){return e.el===t.$el});-1!==e&&i.list.splice(e,1),t.$container&&t.$el&&t.$container.removeChild(t.$el)}}])&&o(e.prototype,t),n&&o(e,n),i}();i.list=[],i._defaultConfig={maxSpeed:"normal",initSpeed:"normal",direction:135,keep:!0},i._getMaxSpeed=function(e){return{slow:5,normal:10,fast:20}[e]||10},i._getInitSpeed=function(e){return{slow:20,normal:40,fast:80}[e]||50};return function(e,t,n){"string"==typeof e&&(e=document.querySelectorAll(e)),e.forEach||(e=[e]);var o=[];return e.forEach(function(e){e&&o.push(new i(e,t,n))}),o.length<=1?o[0]:o}});
